#JS 

---
# # 📘 DOM은 무엇인가? – 02. 브라우저가 HTML을 해석하는 진짜 방식

## 1. 지난 시간 복습: HTML만으로는 왜 부족한가?

- HTML은 정적인 구조만 표현하는 언어
- 동적인 상호작용을 위해서는 자바스크립트와 연결 필요
- 자바스크립트는 HTML을 직접 조작할 수 없고, 브라우저가 파싱한 **DOM(Document Object Model)** 구조를 통해서만 접근 가능

## 2. DOM은 단순한 '도구'가 아니다 – 브라우저와 자바스크립트의 공식 인터페이스

- DOM은 HTML을 구조화한 **객체 트리**
    
- 자바스크립트가 브라우저 내부 구조에 접근할 수 있도록 해주는 **유일한 공식 인터페이스**
    
- 단순한 제어용 객체가 아니라, 브라우저 메모리 상의 **실제 구조**

## 3. 브라우저는 HTML을 어떻게 DOM으로 바꾸는가?

### 파싱 과정

1. HTML 문자열 → **토큰(token)** 으로 분할 예: `<h1>`, `</h1>`, `<body>` 등
2. 토큰 → **노드(node)** 로 변환 → 각 토큰을 기반으로 객체 생성
3. 노드 → **트리 구조**로 연결 → 부모-자식 관계로 엮어 트리 구성

이 과정을 통해 브라우저는 HTML을 DOM 트리로 만들어 메모리에 저장함

## 4. 예제: 간단한 HTML이 DOM으로 바뀌는 과정

```
<html>
  <head>
    <title>예제</title>
  </head>
  <body>
    <h1>안녕하세요</h1>
    <p>DOM이란 무엇인가?</p>
  </body>
</html>
```

### DOM 트리 구조

```
Document
└── html
    ├── head
    │   └── title
    │       └── "예제"
    └── body
        ├── h1
        │   └── "안녕하세요"
        └── p
            └── "DOM이란 무엇인가?"
```

📌 이 구조는 단순한 들여쓰기가 아니라, **브라우저 메모리 내 객체들이 실제로 부모-자식 관계로 연결된 구조**

## 5. DOM 구조를 콘솔에서 직접 확인해보자

### 대표 명령어


```
console.dir(document);
console.dir(document.body);
console.log(document.body.childNodes);
```

- `console.dir(document)` → DOM 객체 트리 구조 확인
    
- `console.log(document)` → 렌더링된 HTML 코드 출력
    
- `document.body.childNodes` → `<body>`의 자식 노드 리스트

📌 `<body>`는 단순 문자열이 아니라 `HTMLBodyElement` 객체이며, 다양한 속성과 자식 노드를 포함함

## 6. DOM 객체의 실제 형태

```
<h1>안녕하세요</h1>
```

### 메모리 상 객체 구조

```
{
  nodeName: "H1",
  nodeType: 1,
  childNodes: [
    {
      nodeType: 3,
      nodeValue: "안녕하세요"
    }
  ]
}
```

📌 하나의 `<h1>` 태그도 **요소 노드 + 텍스트 노드** 두 개의 객체로 구성됨

## 7. DOM의 기반은 'Node' – 프로토타입 체인 이해

- DOM의 모든 구성 요소는 `Node`라는 최상위 프로토타입 객체에서 파생됨
    
- DOM은 클래스 기반이 아니라 **프로토타입 기반 상속 체계**
### 주요 타입

|타입|설명|
|---|---|
|Document|문서 전체 (`document` 객체)|
|Element|HTML 요소 노드 (`div`, `p`)|
|Text|요소 내부의 텍스트|
|Comment|주석 노드 (`<!-- 주석 -->`)|

### 공통 속성과 메서드

- `nodeType` – 노드 종류 구분 (1: 요소, 3: 텍스트 등)
    
- `childNodes` – 자식 노드 목록
    
- `parentNode` – 부모 노드
    
- `appendChild()` – 자식 노드 추가

## 8. 실습: 브라우저에서 직접 DOM 탐색해보기

### 절차

1. 크롬 브라우저에서 아무 웹페이지 열기
2. `F12` 또는 오른쪽 클릭 → **검사(Inspect)**
3. Console 탭에서 명령어 실행

```
console.dir(document.body);
console.log(document.body.childNodes);
```

📌 `childNodes`에는 줄바꿈, 공백 같은 **텍스트 노드까지 포함**됨

## 9. 비유로 이해하기: DOM은 무대, 자바스크립트는 연출자

|요소|역할 설명|
|---|---|
|HTML|공연 설계도 (스크립트, 무대 배치도)|
|DOM|실제로 지어진 무대|
|JavaScript|연출자 (조명, 소품, 배우 이동 제어)|

📌 설계도만으로는 아무것도 동작하지 않음 → DOM이 있어야 JS가 연출 가능

## ✅ 핵심 요약

|요소|역할 설명|
|---|---|
|HTML|정적인 구조와 내용을 작성|
|DOM|HTML을 객체로 구조화한 트리|
|JavaScript|DOM 트리를 읽고 조작하여 화면을 바꿈|

- DOM은 HTML을 객체화한 트리 구조이다
    
- 브라우저는 HTML 문자열을 파싱해 DOM 트리를 만든다
    
- DOM은 자바스크립트가 브라우저를 제어할 수 있도록 해주는 **공식 인터페이스**이다
    
- DOM 탐색 도구로는 `console.dir()`, `.childNodes`, `.nodeType`, `.nodeName` 등이 있다
    
- DOM은 단순 트리가 아니라 **프로토타입 기반의 객체 시스템**