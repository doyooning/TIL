#JS 

---
# 📘 03. HTML에서 DOM으로 – 구조가 객체가 되기까지

## 1. 왜 DOM이 필요한가?

- HTML은 정적인 정보 구조화 도구일 뿐
- 자바스크립트는 HTML을 직접 조작할 수 없음
- 브라우저가 HTML을 **객체로 바꿔 제공하는 중간 구조**가 필요 → 그게 바로 **DOM(Document Object Model)**

## 2. HTML은 설명서, DOM은 조립된 구조물

- HTML은 사람이 읽는 설계도
- 브라우저는 이 설계도를 읽고 구조물(DOM)로 조립
- 자바스크립트는 이 구조물을 조작하여 동작 구현

📌 HTML은 단순한 텍스트 → 브라우저가 구조 분석 후 객체로 변환

## 3. 비유: 책상 조립 설명서

- 설명서 = HTML
- 조립된 책상 = DOM
- 설명서를 읽고 행동하는 사람 = 브라우저

→ 브라우저는 HTML을 해석해 구조화된 DOM 객체를 생성 → 이후 자바스크립트는 DOM 객체를 조작

## 4. 브라우저는 HTML을 한 줄씩 읽으며 DOM을 만든다

- 브라우저는 HTML 문서를 위에서 아래로 순차적으로 해석
- 읽는 즉시 구조 생성 → **스트리밍 파싱(streaming parser)**
- 각 태그는 **토큰(token)** 으로 나뉨 예: `<body>`, `</h1>` 등

## 5. 태그 → 노드 생성 로직

- 열리는 태그 → 새 노드 생성
- 닫히는 태그 → 부모로 복귀 → 중첩 구조 자동 인식 → 트리 구조 형성

📌 괄호처럼 중첩 구조를 인식하여 부모-자식 관계 트리 생성

## 6. 예제: HTML → DOM 트리

```
<body>
  <h1>제목입니다</h1>
  <p>문단입니다</p>
</body>
```

### DOM 트리 구조

```
Document
└── body
    ├── h1
    │   └── "제목입니다"
    └── p
        └── "문단입니다"
```

📌 body가 최상위 노드, h1과 p가 자식 노드, 그 아래 텍스트 노드가 생성됨

## 7. DOM 구조는 메모리 객체로 구현된다

- 들여쓰기처럼 보이지만 실제로는 **객체 간 계층적 연결**
- JavaScript로 탐색 가능한 상태로 저장됨 → 각 노드는 `HTMLElement`, `Text`, `Node` 등으로 구현된 객체

## 8. 속성도 객체 안에 포함된다

```
<p class="text">
```

- `class="text"` 같은 속성은 DOM 노드의 `attributes` 속성으로 저장됨
- 접근 방법 예시:

```
element.className
element.getAttribute("class")
element.id
```

→ 자바스크립트로 동적 CSS 클래스 변경, 데이터 속성 접근 가능

## 9. 실습: 브라우저에서 DOM 구조 확인

### HTML 예시

```
<body>
  <h1 class="title">DOM 변환</h1>
  <p id="desc">이것은 설명입니다.</p>
</body>
```

### 콘솔 명령어

```
console.dir(document.body);
```

- `document.body.children[0].tagName` → `"H1"`
- `document.body.children[0].textContent` → `"DOM 변환"`
- `document.body.children[1].id` → `"desc"`

📌 `console.dir()`은 DOM 객체를 트리 구조로 펼쳐 보여줌

## 10. 핵심 요약

✅ HTML은 텍스트지만, 브라우저는 이를 구조화하여 DOM 객체 트리를 만든다 
✅ DOM 트리는 부모-자식 관계로 연결되며, 각 요소는 자바스크립트로 조작 가능한 객체다
✅ 속성(class, id 등)은 객체 내부 속성으로 저장되어 JS 코드로 접근 가능 
✅ `console.dir()`을 사용하면 DOM의 내부 구조를 직접 확인할 수 있다