#웹크롤링
#네트워크

---
### 웹 봇 탐지 및 클라이언트 비정상 조작 감지 기법
#### 클라이언트 기법
1. 키/마우스 이벤트 차단
	`keydown`/`keyup`에서 F12(키코드 123), `Ctrl+Shift+I/J`, `Ctrl+U` 등을 `preventDefault()`로 막고 우클릭(`contextmenu`)을 막음. (사용자 경험은 나빠짐.)
	
2. 개발자도구 열림 감지(탐지용 스니펫)
	- `window.outerWidth - window.innerWidth` 또는 `outerHeight - innerHeight` 차이를 체크해 도구가 도킹되었는지 유추.
    
	- `debugger`문을 활용해 디버거가 열릴 때 스크립트가 중단되는 것을 이용(짧은 시간 동안 `performance.now()` 차이를 측정).
    
	- `console`객체의 toString/함수 변형, `console.log`에 사이드 이펙트(특정 패턴을 출력하면 devtools가 읽어서 상태가 바뀜)를 이용. 이런 방식들은 브라우저 버전·설정에 따라 신뢰도가 다름.
	
3. 코드 난독화 / 무결성 체크
	번들·난독화(uglify/obfuscator) + 서명/무결성(예: 스크립트에 해시 체크)로 소스 분석 난이도 상승. 자주 쓰이는 패턴을 숨겨서 사람이 보기 어렵게 만듦.
	
4. DOM/이벤트 기반 방해
	DOM에 상시 모달(overlay)을 두고 개발자도구로 모달을 제거하거나 클래스 변경하면 바로 재검증 · 차단 동작을 하도록 구성.

#### 서버 기법
1. Bot Management & WAF(엣지 차단)
	Akamai, Cloudflare, PerimeterX 등 상용 솔루션이 글로벌 신호(요청 패턴·위치·과거 악성 IP 목록 등)와 머신러닝을 결합해 봇을 실시간 분류·차단. 중요 트래픽은 엣지(콘텐츠 전송단계)에서 차단.
	
2. 요청행동·세션 기반 평판·탐지
	같은 세션에서 비정상적 요청 빈도, 급격한 페이지 전환, 비인간적한 클릭 간격 등을 서버 로그·분석으로 탐지. 변칙적이면 챌린지(추가 JS 체크·CAPTCHA) 발생.
	
3. 단시간 토큰·서명 파라미터
	API 요청에 매번 변경되는 서명값이나 단기 토큰을 요구해 단순한 스크립트 재생을 어렵게 함. (예: AJAX 호출에 HMAC 또는 난수 토큰 포함)
	
4. Rate limiting / IP 평판 / 지리적 규칙
	단일 IP에서 오는 과도한 요청 차단, 의심 IP 블랙리스트, 프록시·VPN 탐지 등을 적용.
	
5. 캡차·자바스크립트 챌린지
	요청 의심 시 JS 기반의 행동 챌린지(브라우저가 JS를 제대로 실행하는지 확인) 또는 CAPTCHA를 띄워 사람 여부 확인.




